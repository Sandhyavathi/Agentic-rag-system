# Agentic RAG System Environment Configuration
# Production-ready configuration for Ollama-only deployment

# ===========================================
# LLM Configuration (Ollama Only)
# ===========================================

# LLM Provider (must be 'ollama' - Gemini support removed)
LLM_PROVIDER=ollama

# Ollama Configuration
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama3.2:3b

# LLM Model Configuration (uses OLLAMA_MODEL value)
LLM_TEMPERATURE=0.1
LLM_MAX_TOKENS=2000
LLM_TOP_K=5

# ===========================================
# Milvus Vector Database Configuration
# ===========================================

# Milvus Connection
MILVUS_HOST=localhost
MILVUS_PORT=19530
MILVUS_COLLECTION=documents
MILVUS_EMBEDDING_DIM=384

# Milvus Index Configuration
MILVUS_INDEX_TYPE=IVF_FLAT
MILVUS_METRIC_TYPE=COSINE
MILVUS_NLIST=1024
MILVUS_NPROBE=10

# ===========================================
# Application Configuration
# ===========================================

# Embedding Model
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2

# Retrieval Configuration
TOP_K=5
RETRIEVAL_RERANK_K=3
BM25_WEIGHT=0.3
SEMANTIC_WEIGHT=0.7
CONFIDENCE_THRESHOLD=0.2
RETRIEVAL_TOP_K=10

# Chunking Configuration
MAX_CHUNK_SIZE=1000
CHUNK_OVERLAP=100

# Application Paths
UPLOAD_DIR=./uploads
TEMP_DIR=./temp

# ===========================================
# Production Application Behavior
# ===========================================

# Debug Mode (set to false for production)
DEBUG=false

# Log Level (INFO for production, DEBUG for development)
LOG_LEVEL=INFO

# Maximum iterations for agent loops
MAX_ITERATIONS=2

# ===========================================
# Performance and Reliability
# ===========================================

# Connection timeouts (in seconds)
OLLAMA_TIMEOUT=30
MILVUS_TIMEOUT=30

# Retry configuration
MAX_RETRIES=3
RETRY_DELAY=1

# ===========================================
# Optional: Advanced Configuration
# ===========================================

# Redis Configuration (for caching - optional)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# Prometheus Metrics (for monitoring - optional)
METRICS_ENABLED=false
METRICS_PORT=8000

# Security
ALLOWED_ORIGINS=http://localhost:8501,http://127.0.0.1:8501
CORS_ENABLED=true

# ===========================================
# Production Notes
# ===========================================
# 1. Ensure Ollama is running: ollama serve
# 2. Ensure Milvus is running: docker-compose -f docker/docker-compose.yml up -d
# 3. Pull your model: ollama pull llama3.2:3b
# 4. Set DEBUG=false and LOG_LEVEL=INFO for production
# 5. Monitor Ollama memory usage for your model size
